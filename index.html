---
layout: default
---

<!-- Load specific CSS files -->
<link rel="stylesheet" type="text/css" href="{{ site.url }}/css/slideshow.css" />
<link rel="stylesheet" type="text/css" href="{{ site.url }}/css/grid-gallery.css" />

<!-- Load specific javascript files -->
<script src="{{ site.url }}/js/imagesloaded.pkgd.min.js"></script>
<script src="{{ site.url }}/js/masonry.pkgd.min.js"></script>
<script src="{{ site.url }}/js/classie.js"></script>
<script src="{{ site.url }}/js/cbpGridGallery.js"></script>
<script src="{{ site.url }}/js/lazyload.min.js"></script>

<!-- Add google maps element -->
<div class="googlemaps" >
	{% google_map src="_posts" width="100%" height="100%" zoom="4.5" no_cluster show_popup="false" %}
</div>

<!-- Add header element -->
<div class="header_container">
	<header class="clearfix">
		<h1><a href="{{ site.url }}">{{ site.name }}</a></h1>
		<nav>
			<a href="https://www.facebook.com/delord.kevin" class="fa fa-facebook fa-lg"></a>
			<a href="{{ site.url }}/map" class="fa fa-map fa-lg"></a>
		</nav>
	</header>
</div>

<!-- Add the grid element -->
<div id="grid-gallery" class="grid-gallery">
	<section class="grid-wrap">
		<ul class="grid">
			<li class="grid-sizer"></li><!-- for Masonry column width -->
			{% for post in site.posts %}
			<li>
				<figure>
					<img class="grid_thumbnail" data-ratio={{ post.ratio }} data-original="{{ site.url }}/img/thumb/{{ post.photo }}"/>
					<figcaption>
						<h3>{{ post.title }}</h3>
						<i class="fa fa-globe" aria-hidden="true"></i>
						<a class= "maps_link" href="{{ site.url }}/map?p={{ post.photo }}" target="_blank"> {{ post.location_text }}</a>
						<p>{{ post.caption }}</p>
						<p class="post-date">{{ post.date | date: '%B %d, %Y' }}</p>
					</figcaption>
				</figure>
			</li>
			{% endfor %}
		</ul>
	</section><!-- grid-wrap -->

	<section class="slideshow">
		<ul>
			{% for post in site.posts %}
			<li>
				<figure>
					<img data-tmp="{{ site.url }}/img/large/{{ post.photo }}"/>
				</figure>
				<h3>{{ post.title }}</h3>
			</li>
			{% endfor %}
		</ul>
		<nav>
			<span class="icon nav-prev"></span>
			<span class="icon nav-next"></span>
			<span class="icon nav-close"></span>
		</nav>
	</section><!-- slideshow -->

</div><!-- grid-gallery -->

<!-- Attach javascripts to grid-gallery -->
<script>
	var grid = new CBPGridGallery(document.getElementById('grid-gallery'));
	// var myLazyLoad = new LazyLoad();
	var myLazyLoad = new LazyLoad({
		threshold: 0
	});

	// Calculate and set the 'responsive' display size for the each thumbnails in the grid.
	[].forEach.call(document.getElementsByClassName('grid_thumbnail'), function(element) {
		let ratio = element.dataset.ratio
		let width = element.width
		let newHeight = (width / ratio).toFixed(2);
		element.style.height = newHeight + "px";
	})
</script>
